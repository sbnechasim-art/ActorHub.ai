# ============================================
# ActorHub.ai API - Production Environment
# ============================================
# IMPORTANT: Copy this to .env and fill in ALL values
# NEVER commit .env to version control
#
# Generate secrets with: openssl rand -hex 32
# ============================================

# ==========================================
# CORE SETTINGS
# ==========================================
DEBUG=false
ENVIRONMENT=production
APP_NAME=ActorHub.ai
APP_VERSION=1.0.0
HOST=0.0.0.0
PORT=8000
WORKERS=4

# CORS - Update with your production domains
ALLOWED_ORIGINS=["https://actorhub.ai","https://www.actorhub.ai","https://api.actorhub.ai","https://studio.actorhub.ai"]

# Frontend URL for redirects and emails
FRONTEND_URL=https://actorhub.ai

# ==========================================
# DATABASE (PostgreSQL with pgvector)
# ==========================================
# Use a managed PostgreSQL service (AWS RDS, Supabase, etc.)
DATABASE_URL=postgresql://user:password@host:5432/actorhub
DATABASE_POOL_SIZE=20
DATABASE_MAX_OVERFLOW=10

# Redis (for caching, rate limiting, sessions)
# Use a managed Redis service (AWS ElastiCache, Upstash, etc.)
REDIS_URL=redis://:password@host:6379

# ==========================================
# AUTHENTICATION (JWT)
# ==========================================
# CRITICAL: Generate unique, secure random strings (min 32 chars)
# Run: openssl rand -hex 32
JWT_SECRET=GENERATE_WITH_openssl_rand_hex_32
JWT_REFRESH_SECRET=GENERATE_DIFFERENT_WITH_openssl_rand_hex_32
JWT_ALGORITHM=HS256
JWT_ACCESS_TOKEN_EXPIRE_MINUTES=15
JWT_REFRESH_TOKEN_EXPIRE_DAYS=7

# ==========================================
# STORAGE (AWS S3)
# ==========================================
# For production, use real AWS S3 (not MinIO)
AWS_ACCESS_KEY_ID=AKIAXXXXXXXXXXXXXXXX
AWS_SECRET_ACCESS_KEY=your-secret-access-key
AWS_REGION=us-east-1
# Remove AWS_ENDPOINT_URL for real S3, set only for MinIO/LocalStack
# AWS_ENDPOINT_URL=
S3_BUCKET_ACTOR_PACKS=actorhub-actor-packs
S3_BUCKET_UPLOADS=actorhub-uploads

# ==========================================
# VECTOR DATABASE (Qdrant)
# ==========================================
# Use Qdrant Cloud or self-hosted Qdrant
QDRANT_HOST=your-cluster.qdrant.io
QDRANT_PORT=6333
QDRANT_API_KEY=your-qdrant-api-key
QDRANT_COLLECTION=face_embeddings

# ==========================================
# AI/ML SERVICES
# ==========================================
# Replicate - For LoRA training (face model)
# Get token from: https://replicate.com/account/api-tokens
REPLICATE_API_TOKEN=r8_xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx
# Webhook secret for verifying Replicate webhook signatures
# Generate with: openssl rand -hex 32
REPLICATE_WEBHOOK_SECRET=your-replicate-webhook-secret

# ElevenLabs - For voice cloning
# Get key from: https://elevenlabs.io/subscription
ELEVENLABS_API_KEY=your-elevenlabs-api-key

# OpenAI - Future use
# OPENAI_API_KEY=sk-xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx

# ==========================================
# PAYMENTS (Stripe)
# ==========================================
# Get keys from: https://dashboard.stripe.com/apikeys
# Use LIVE keys for production (sk_live_, pk_live_)
STRIPE_SECRET_KEY=sk_live_YOUR_STRIPE_SECRET_KEY_HERE
STRIPE_PUBLISHABLE_KEY=pk_live_YOUR_STRIPE_PUBLIC_KEY_HERE

# Webhook signing secret from: https://dashboard.stripe.com/webhooks
STRIPE_WEBHOOK_SECRET=whsec_xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx

# Clerk Webhook (if using Clerk for auth)
# CLERK_WEBHOOK_SECRET=whsec_xxxxxxxxxxxx

# ==========================================
# EMAIL (SendGrid)
# ==========================================
# Get key from: https://app.sendgrid.com/settings/api_keys
SENDGRID_API_KEY=SG.xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx
EMAIL_FROM=noreply@actorhub.ai
EMAIL_FROM_NAME=ActorHub.ai

# ==========================================
# BACKGROUND TASKS (Celery)
# ==========================================
# Use the same Redis URL or a separate instance
CELERY_BROKER_URL=redis://:password@host:6379/0
CELERY_RESULT_BACKEND=redis://:password@host:6379/1

# ==========================================
# MONITORING & ERROR TRACKING
# ==========================================
# Sentry - Get DSN from: https://sentry.io
SENTRY_DSN=https://xxxxxxxx@o1234567.ingest.sentry.io/1234567

# ==========================================
# FEATURE FLAGS
# ==========================================
ENABLE_BLOCKCHAIN=false
ENABLE_ACTOR_PACKS=true
ENABLE_MARKETPLACE=true
ENABLE_VOICE_CLONING=true

# ==========================================
# FACE RECOGNITION
# ==========================================
# Set to false when InsightFace is properly installed
FACE_RECOGNITION_MOCK=false
QUALITY_ASSESSMENT_MOCK=false

# Thresholds (tune based on testing)
FACE_SIMILARITY_THRESHOLD=0.80
FACE_DUPLICATE_THRESHOLD=0.85
FACE_EMBEDDING_SIZE=512

# ==========================================
# RATE LIMITING
# ==========================================
RATE_LIMIT_REQUESTS=100
RATE_LIMIT_WINDOW=60

# ==========================================
# SECURITY CHECKLIST
# ==========================================
# Before going live, ensure:
# [ ] JWT_SECRET is a unique 64+ char random string
# [ ] JWT_REFRESH_SECRET is different from JWT_SECRET
# [ ] DATABASE_URL uses SSL (?sslmode=require)
# [ ] REDIS_URL uses password authentication
# [ ] All API keys are live/production keys
# [ ] STRIPE_WEBHOOK_SECRET is from production webhook
# [ ] CORS origins are restricted to your domains
# [ ] DEBUG=false
# [ ] ENVIRONMENT=production
